(this.webpackJsonpthirdapp=this.webpackJsonpthirdapp||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},65:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(31),i=n.n(s),r=n(8),o=n(2),l=n(4),j=n(5),d=n(7),h=n(6),b=n(0),m=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={username:"",imageUrl:""},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(b.jsx)("nav",{class:"navbar navbar-inverse",children:Object(b.jsxs)("div",{class:"container-fluid",children:[Object(b.jsxs)("div",{class:"navbar-header",children:[Object(b.jsxs)("button",{type:"button",class:"navbar-toggle","data-toggle":"collapse","data-target":"#myNavbar",children:[Object(b.jsx)("span",{class:"icon-bar"}),Object(b.jsx)("span",{class:"icon-bar"}),Object(b.jsx)("span",{class:"icon-bar"})]}),Object(b.jsx)(r.b,{class:"navbar-brand",to:"/",children:"Developer Funnel"})]}),Object(b.jsx)("div",{class:"collapse navbar-collapse",id:"myNavbar",children:Object(b.jsxs)("ul",{class:"nav navbar-nav",children:[Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/viewBooking",children:"Bookings"})})]})})]})})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.location.search.split("=")[1];if(t){var n={code:t};fetch("http://localhost:9900/oauth",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){var n=t.name,c=t.avatar_url;sessionStorage.setItem("username",n),e.setState({username:n,imageUrl:c})}))}}}]),n}(c.Component),u=Object(o.e)(m),O=function(e){return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("hr",{}),Object(b.jsx)("center",{children:Object(b.jsx)("h3",{children:"\xa9 Developer Funnel"})})]})},p=(n(45),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).renderCity=function(e){if(e)return e.map((function(e){return Object(b.jsx)("option",{value:e._id,children:e.city_name})}))},e.renderHotel=function(e){if(e)return e.map((function(e){return Object(b.jsxs)("option",{value:e._id,children:[e.name," | ",e.locality]})}))},e.handleCity=function(t){console.log(t.target.value);var n=t.target.value;fetch("".concat("https://developerfunnel.herokuapp.com/hotels?city=").concat(n),{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({hotels:t})}))},e.handleHotel=function(t){e.props.history.push("/details/".concat(t.target.value))},console.log(">>>>in constructor"),e.state={location:"",hotels:""},e}return Object(j.a)(n,[{key:"render",value:function(){return console.log(">>>>in render"),Object(b.jsxs)("div",{className:"imageContainer",children:[Object(b.jsx)("div",{id:"logo",children:"D!"}),Object(b.jsx)("div",{className:"heading",children:"Plan Trip With Us"}),Object(b.jsxs)("div",{className:"locationSelector",children:[Object(b.jsxs)("select",{className:"locationDropDown",onChange:this.handleCity,children:[Object(b.jsx)("option",{children:"-----SELECT CITY----"}),this.renderCity(this.state.location)]}),Object(b.jsxs)("select",{className:"reataurantsinput",onChange:this.handleHotel,children:[Object(b.jsx)("option",{children:"-----SELECT HOTEL----"}),this.renderHotel(this.state.hotels)]})]})]})}},{key:"componentDidMount",value:function(){var e=this;console.log(">>>>in componentDidMount"),fetch("https://developerfunnel.herokuapp.com/location",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({location:t})})).catch((function(e){console.log(e)}))}}]),n}(c.Component)),x=Object(o.e)(p),v=(n(46),function(e){return Object(b.jsxs)("div",{className:"quickSearchContainer",children:[Object(b.jsx)("p",{className:"quickSearchHeading",children:"QuickSearch"}),Object(b.jsx)("p",{className:"quickSearchSubHeading",children:"Discover Trip By Type"}),Object(b.jsx)("br",{}),function(e){var t=e.tripdata;if(t)return t.map((function(e){return Object(b.jsx)(r.b,{to:"/list/".concat(e._id),children:Object(b.jsxs)("div",{className:"tileContainer",children:[Object(b.jsx)("div",{className:"tileComponent1",children:Object(b.jsx)("img",{src:e.image})}),Object(b.jsxs)("div",{className:"tileComponent2",children:[Object(b.jsx)("div",{className:"componentHeading",children:e.name}),Object(b.jsxs)("div",{className:"componentSubHeading",children:["Start Your ",e.name," Trip With Us."]})]})]})})}))}(e)]})}),f=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={tripType:""},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(b.jsx)(v,{tripdata:this.state.tripType})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://developerfunnel.herokuapp.com/booking",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({tripType:t})}))}}]),n}(c.Component),g=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(x,{}),Object(b.jsx)(f,{})]})},y=n(13),N=n.n(y),k=(n(65),function(e){return Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)("div",{className:"main-heading",children:Object(b.jsx)("div",{className:"col-md-12",children:function(e){var t=e.listdata;return t?t.length>1?t.map((function(e){return Object(b.jsxs)("div",{className:"item",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-sm-5",children:Object(b.jsx)("img",{className:"Image",src:e.thumb})}),Object(b.jsx)("div",{className:"col-sm-7",children:Object(b.jsxs)("div",{className:"hotel_name",children:[Object(b.jsx)(r.b,{to:"/details/".concat(e._id),children:e.name}),Object(b.jsx)("div",{className:"city_name",children:e.city_name}),Object(b.jsx)("div",{className:"city_name",children:e.locality}),Object(b.jsx)("div",{className:"city_name",children:e.address})]})})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-sm-3",children:[Object(b.jsx)("div",{className:"cuisine",children:"Room Type"}),Object(b.jsx)("div",{className:"cuisine",children:"Cost For Night"})]}),Object(b.jsxs)("div",{className:"col-sm-3",children:[Object(b.jsx)("div",{className:"cuisine_data",children:e.type[0].name}),Object(b.jsxs)("div",{className:"cuisine_data",children:["Rs. ",e.cost]})]})]})]})})):Object(b.jsx)("div",{className:"item",children:Object(b.jsx)("h2",{children:"No Data Found"})}):Object(b.jsx)("div",{className:"item",children:Object(b.jsx)("img",{src:"/images/loader.gif"})})}(e)})})})}),C="https://developerfunnel.herokuapp.com/hotellist",S=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).filterRoom=function(t){var n,c=sessionStorage.getItem("TripId"),a=t.target.value;n=""==a?"".concat(C,"/").concat(c):"".concat(C,"/").concat(c,"?roomtype=").concat(a),N.a.get(n).then((function(t){e.props.roomPerType(t.data)}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("center",{children:"Room Type"}),Object(b.jsxs)("div",{onChange:this.filterRoom,children:[Object(b.jsxs)("label",{className:"radio",children:[Object(b.jsx)("input",{type:"radio",value:"",name:"room"}),"All"]}),Object(b.jsxs)("label",{className:"radio",children:[Object(b.jsx)("input",{type:"radio",value:"1",name:"room"}),"Deluxe Room"]}),Object(b.jsxs)("label",{className:"radio",children:[Object(b.jsx)("input",{type:"radio",value:"2",name:"room"}),"Premium Room"]}),Object(b.jsxs)("label",{className:"radio",children:[Object(b.jsx)("input",{type:"radio",value:"3",name:"room"}),"Travel Room"]}),Object(b.jsxs)("label",{className:"radio",children:[Object(b.jsx)("input",{type:"radio",value:"4",name:"room"}),"Semi Deluxe Room"]})]})]})}}]),n}(c.Component),T="https://developerfunnel.herokuapp.com/hotellist",D=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).filterRoom=function(t){var n,c=sessionStorage.getItem("TripId"),a=t.target.value.split("-"),s=a[0],i=a[1];n=""==a?"".concat(T,"/").concat(c):"".concat(T,"/").concat(c,"?hcost=").concat(i,"&lcost=").concat(s),N.a.get(n).then((function(t){e.props.costPerType(t.data)}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("center",{children:"Cost Type"}),Object(b.jsxs)("div",{onChange:this.filterRoom,children:[Object(b.jsxs)("label",{className:"radio",children:[Object(b.jsx)("input",{type:"radio",value:"",name:"room"}),"All"]}),Object(b.jsxs)("label",{className:"radio",children:[Object(b.jsx)("input",{type:"radio",value:"1000-3000",name:"room"})," 1000-3000"]}),Object(b.jsxs)("label",{className:"radio",children:[Object(b.jsx)("input",{type:"radio",value:"3001-6000",name:"room"})," 3001-6000"]}),Object(b.jsxs)("label",{className:"radio",children:[Object(b.jsx)("input",{type:"radio",value:"6001-9000",name:"room"})," 6001-9000"]}),Object(b.jsxs)("label",{className:"radio",children:[Object(b.jsx)("input",{type:"radio",value:"9001-12000",name:"room"})," 9001-12000"]})]})]})}}]),n}(c.Component),_=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setDatPerFilter=function(t){e.setState({hotellist:t})},e.state={hotellist:""},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-md-2",children:[Object(b.jsx)(S,{roomPerType:function(t){e.setDatPerFilter(t)}}),Object(b.jsx)(D,{costPerType:function(t){e.setDatPerFilter(t)}})]}),Object(b.jsx)("div",{className:"col-md-10",children:Object(b.jsx)(k,{listdata:this.state.hotellist})})]})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;sessionStorage.setItem("TripId",t),N.a.get("".concat("https://developerfunnel.herokuapp.com/hotellist","/").concat(t)).then((function(t){e.setState({hotellist:t.data})}))}}]),n}(c.Component),w=n(21),I=n.n(w),P=n(33),H=n(16),R=(n(67),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={details:""},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state.details;return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"panel panel-primary",children:[Object(b.jsx)("div",{className:"panel-heading",children:Object(b.jsx)("h3",{children:e.name})}),Object(b.jsxs)("div",{className:"panel-body",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsx)("img",{className:"img-responsive",src:e.thumb,style:{height:400,width:1500}})}),Object(b.jsxs)("div",{className:"col-md-6",children:[Object(b.jsx)("h3",{children:e.name}),Object(b.jsx)("h3",{children:e.locality}),Object(b.jsx)("h3",{children:e.address})]})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)(H.d,{children:[Object(b.jsxs)(H.b,{children:[Object(b.jsx)(H.a,{children:"Details"}),Object(b.jsx)(H.a,{children:"Contact"})]}),Object(b.jsxs)(H.c,{children:[Object(b.jsx)("h2",{children:e.name}),Object(b.jsxs)("p",{children:[e.name," is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged."]})]}),Object(b.jsxs)(H.c,{children:[Object(b.jsx)("h3",{children:e.locality}),Object(b.jsx)("h3",{children:e.address}),Object(b.jsx)("h3",{children:"Phn: 97776642443"})]})]}),Object(b.jsx)(r.b,{to:"/",className:"btn btn-danger",children:"Back"})," \xa0",Object(b.jsx)(r.b,{to:"/booking/".concat(e.name),className:"btn btn-success",children:"Proceed"})]})]})})}},{key:"componentDidMount",value:function(){var e=Object(P.a)(I.a.mark((function e(){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,N.a.get("".concat("https://developerfunnel.herokuapp.com/hotelsdetails","/").concat(t));case 3:n=e.sent,this.setState({details:n.data[0]}),sessionStorage.setItem("cost",n.data[0].cost);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(c.Component)),B=n(34),F=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(l.a)(this,n),(c=t.call(this,e)).handleChange=function(e){c.setState(Object(B.a)({},e.target.name,e.target.value))},c.handleSubmit=function(){console.log(c.state),fetch("http://localhost:8900/booking",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c.state)}).then(c.props.history.push("/viewBooking"))},c.state={id:Math.floor(1e5*Math.random()),hotel_name:c.props.match.params.hotel_name,name:sessionStorage.getItem("username"),phone:"",cost:sessionStorage.getItem("cost")},c}return Object(j.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"panel panel-info",children:[Object(b.jsx)("div",{className:"panel-heading",children:"Place Booking"}),Object(b.jsxs)("div",{className:"panel-body",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Order Id"}),Object(b.jsx)("input",{name:"id",value:this.state.id,className:"form-control",readOnly:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Hotel Name"}),Object(b.jsx)("input",{name:"hotel_name",value:this.state.hotel_name,className:"form-control",readOnly:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Cost"}),Object(b.jsx)("input",{name:"cost",value:this.state.cost,className:"form-control",readOnly:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"name"}),Object(b.jsx)("input",{name:"name",value:this.state.name,className:"form-control",onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Phone"}),Object(b.jsx)("input",{name:"phone",value:this.state.phone,className:"form-control",onChange:this.handleChange})]}),Object(b.jsx)("button",{className:"btn btn-success",onClick:this.handleSubmit,children:"Place Booking"})]})]})})}}]),n}(c.Component),E=function(e){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("center",{children:Object(b.jsx)("h3",{children:"Booking List"})}),Object(b.jsxs)("table",{className:"table table-responsive",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"OrderId"}),Object(b.jsx)("th",{children:"Hotel"}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Phone"}),Object(b.jsx)("th",{children:"Cost"})]})}),Object(b.jsx)("tbody",{children:function(e){var t=e.bookdata;if(t)return t.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.id}),Object(b.jsx)("td",{children:e.hotel_name}),Object(b.jsx)("td",{children:e.name}),Object(b.jsx)("td",{children:e.phone}),Object(b.jsxs)("td",{children:["Rs.",e.cost]})]})}))}(e)})]})]})},M=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={bookings:""},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(b.jsx)(E,{bookdata:this.state.bookings})}},{key:"componentDidMount",value:function(){var e=this;N.a.get("http://localhost:8900/booking").then((function(t){e.setState({bookings:t.data})}))}}]),n}(c.Component),A=function(){return Object(b.jsxs)(r.a,{children:[Object(b.jsx)(u,{}),Object(b.jsx)(o.a,{exact:!0,path:"/",component:g}),Object(b.jsx)(o.a,{path:"/list/:id",component:_}),Object(b.jsx)(o.a,{path:"/details/:id",component:R}),Object(b.jsx)(o.a,{path:"/booking/:hotel_name",component:F}),Object(b.jsx)(o.a,{path:"/viewBooking",component:M}),Object(b.jsx)(O,{})]})};i.a.render(Object(b.jsx)(A,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.5cfba35e.chunk.js.map